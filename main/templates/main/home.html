{% extends 'main/base.html' %}

{% block title %}Home - OneUML{% endblock %}

{% block content %}
<div class="home-wrapper" style="max-width:1100px; margin:40px auto; padding:0 20px;">

  <!-- Header -->
  <header style="text-align:center; margin-bottom:40px;">
    <h1 style="font-size:48px; margin:0 0 10px; font-weight:700;">ONEUML</h1>
    <p style="margin:0; color:#555;">
      Generate UML Diagram & Software Requirements Specification (SRS) secara otomatis, cepat, dan terstruktur.
    </p>
  </header>

  <section style="display:flex; gap:24px; align-items:flex-start; flex-wrap:wrap;">

    <!-- Project List -->
    <div style="flex:1 1 420px;">
      <div style="background:#fff; padding:20px; border-radius:10px; 
                  box-shadow:0 2px 10px rgba(0,0,0,0.06);">
        <h2 style="margin:0 0 10px;">Your Projects</h2>
        <p style="margin:0 0 14px; color:#666;">Project yang kamu buat akan muncul di sini.</p>

        {% if projects %}
          <ul style="padding-left:0; margin:0; list-style:none;">
            {% for p in projects %}
              <li style="margin-bottom:12px; padding:12px; background:#f9f9f9;
                         border-radius:6px; display:flex; justify-content:space-between; align-items:center;">
                <div>
                  <strong>{{ p.nama_project }}</strong>
                  {% if p.deskripsi %}
                    <span style="color:#666;"> â€” {{ p.deskripsi|truncatechars:80 }}</span>
                  {% endif %}
                </div>
                <a href="{% url 'main:use_case' p.id_project %}"
                   style="padding:6px 12px; background:#1e3a8a; color:#fff; 
                          border-radius:6px; text-decoration:none; font-size:13px;">
                  Open
                </a>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <div style="color:#888; margin-top:10px;">Belum ada project.</div>
        {% endif %}
      </div>
    </div>

    <!-- Add Project Form -->
    <div style="width:360px;">
      <form method="post" action="{% url 'main:project_new' %}"
            style="background:#fff; padding:20px; border-radius:10px; 
                   box-shadow:0 2px 10px rgba(0,0,0,0.06);">
        {% csrf_token %}
        <h3 style="margin:0 0 12px;">+ Add New Project</h3>

        <label for="id_name" style="display:block; margin-bottom:6px; font-size:13px;">Project Name</label>
        <input type="text" id="id_name" name="name" placeholder="Nama project" required
               style="width:100%; padding:10px; border:1px solid #e3e6ea; 
                      border-radius:6px; margin-bottom:12px;">

        <label for="id_description" style="display:block; margin-bottom:6px; font-size:13px;">Short Description</label>
        <textarea id="id_description" name="description" rows="3"
                  placeholder="Deskripsi singkat (optional)"
                  style="width:100%; padding:10px; border:1px solid #e3e6ea; 
                         border-radius:6px; margin-bottom:14px;"></textarea>

        <button type="submit"
                style="width:100%; padding:10px; background:#1e3a8a; color:#fff; 
                       border:none; border-radius:8px; font-weight:600; cursor:pointer;">
          Create Project
        </button>
      </form>
    </div>

  </section>
</div>
{% endblock %}
